(self.webpackChunknulogy_design=self.webpackChunknulogy_design||[]).push([[4545],{7713:function(e,t,n){"use strict";n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return r}});var s=n(12265),a=(n(67294),n(64983)),o=n(97933),l={},i={_frontmatter:l},c=o.Z;function r(e){var t=e.components,n=(0,s.Z)(e,["components"]);return(0,a.kt)(c,Object.assign({},i,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",null,"Testing"),(0,a.kt)("p",null,"A guide to writing automated tests for NDS components. Here you can find information about how we write our own tests for the library and how to use selectors when writing tests for your own application that uses NDS components."),(0,a.kt)("h2",null,"Unit Tests"),(0,a.kt)("p",null,"Unit tests check if small pieces of our code do what they are supposed to do, e.g “When a user clicks a button does that fire the correct onClickHandler?”. They’re located alongside the component file, written using ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://jestjs.io/"}),"Jest")," and ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://testing-library.com/docs/react-testing-library/intro"}),"React-Testing-Library"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/nulogy/design-system/blob/master/components/src/Select/Select.spec.js"}),"Unit testing example"))),(0,a.kt)("h2",null,"End-to-end Tests"),(0,a.kt)("p",null,"End-to-end tests are how we check our components are behaving correctly e.g: “When a user clicks a button does that open a dropdown menu?” We write these with ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://www.cypress.io/"}),"Cypress")," in our ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/nulogy/design-system/tree/master/components/components-e2e"}),"components-e2e")," package."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/nulogy/design-system/blob/master/components/components-e2e/cypress/integration/components/Select.spec.js"}),"e2e testing example"))),(0,a.kt)("h2",null,"Selector Priority"),(0,a.kt)("p",null,"There are lots of ways to interact with an element in the dom, but not all are as resilient to change as others. We try to write our selectors in a way that resembles how a user interacts with components or pages. Our users don’t care about the class names we use, so neither should our tests."),(0,a.kt)("p",null,"In light of this, we try to use selectors based on the following priority, as recommended by ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://testing-library.com/docs/guide-which-query"}),"react-testing-library"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Label"),(0,a.kt)("li",{parentName:"ul"},"Placeholder"),(0,a.kt)("li",{parentName:"ul"},"Text contents"),(0,a.kt)("li",{parentName:"ul"},"Alt text"),(0,a.kt)("li",{parentName:"ul"},"Title"),(0,a.kt)("li",{parentName:"ul"},"Display value"),(0,a.kt)("li",{parentName:"ul"},"Role"),(0,a.kt)("li",{parentName:"ul"},"Test ID")),(0,a.kt)("p",null,"And we avoid using:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Class names"),(0,a.kt)("li",{parentName:"ul"},"IDs"),(0,a.kt)("li",{parentName:"ul"},"HTML tags")),(0,a.kt)("p",null,"Test IDs are added when other options are hard to use. If you feel that a useful test id is missing within a NDS component, please let us know."),(0,a.kt)("h2",null,"Testing Nulogy components in your application"),(0,a.kt)("p",null,"Keeping the priority order in mind, inspect the component in DevTools and look for available selectors to use on the elements you would like to interact with in your tests."),(0,a.kt)("p",null,'Lets look at the html of the checkbox for example. You can select the whole checkbox component using the label text, the type on the input to access the underlying checked or unchecked state of the checkbox or use the data-testid="visual-checkbox" which represents the checkbox the user actually sees and can click on.'),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-html"}),'<label class="ClickInputLabel-j2axnv-0 kemUmZ">\n  <input\n    type="checkbox"\n    aria-required="false"\n    aria-invalid="false"\n    id="checkbox"\n    class="Checkbox__CheckboxInput-sc-1nm58f1-1 ejYTGD sc-fzoyTs kaPLDZ"\n  />\n  <div\n    data-testid="visual-checkbox"\n    class="Checkbox__VisualCheckbox-sc-1nm58f1-0 kUStCo"\n  ></div>\n  <p font-size="16px" color="currentColor" class="sc-AxhCb hpmHVQ">\n    I am a checkbox\n  </p>\n</label>\n')),(0,a.kt)("p",null,"Here is an example using Cypress that tests that clicking the checkbox results in a checked checkbox:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),'it("checks the checkbox when the checkbox is clicked", () => {\n  cy.get("[data-testid=\'visual-checkbox\']").click();\n\n  cy.get("[type=\'checkbox\']").should("be.checked");\n});\n')),(0,a.kt)("h3",null,"Related Reading"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",Object.assign({parentName:"li"},{href:"https://kentcdodds.com/blog/making-your-ui-tests-resilient-to-change"}),"Making your UI tests resilient to change"))))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-testing-mdx-c12884f5b131c864a2ee.js.map
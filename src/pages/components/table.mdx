import { Table, IconicButton } from "@nulogy/components";
import { config } from "../../playgrounds/table";
import {
  tableRowProps,
  tableColumnProps,
  cellRendererArgs,
  headerFormatterArgs,
} from "../../playgrounds/table-props";
import { rows, columns } from "../../examples/table/data";
import { STORYBOOK_LINK } from "../../components/CONSTANTS";

# Table

Tables are used for displaying columns and rows of data.

<Playground {...config} />

## Variations

### Customizing cell display

A custom component can be implemented using a `cellFormatter` (to maintain the existing cell styles) or `cellRenderer` (for completely custom styles).

Similarly headers can be customized using the `headerFormatter` function props. See [Storybook](STORYBOOK_LINK) for other examples of implementing different custom components.

<Example
  componentName="table"
  scope={{ Table, rows, columns, IconicButton }}
  example="CustomCells"
/>

### ColumnWidths

A width for a column can be set (as actual size or percentage) inside the column data.

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="ColumnWidths"
/>

### Compact Styling

The table can be set to use compact styling which decreases the paddings when the compact prop is set to true.

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="CompactStyling"
/>

### Footer

A footer can be added to the table by adding an array of rows to the `footerRows` prop.

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="FooterRows"
/>

### StickyHeader

The table header can remain fixed to the top of the table when scrolling by setting the prop stickyHeader to true.

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="StickyHeader"
/>

### Pagination

Setting `rowsPerPage` on the Table will add a [Pagination](/pagination) component to the table. A maximum of the specified `rowsPerPage` will be shown on each page.

Providing a function to `onPageChange` will allow tracking of the current page number. It is fired whenever the page changes and takes in the current page number as an argument.

The [Pagination](/pagination) and Table components can also be used together to support server-side pagination or other custom behaviour. An example of such an implementation can be found in [Storybook](STORYBOOK_LINK).

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="Pagination"
/>

### Headings

Headings that span the full width of a row can be added within the table's rows. To add a heading add a row with a key of `heading` The appearance of the heading can be customized by adding a `cellRenderer` to the row. See an example in [Storybook](STORYBOOK_LINK).

### Filtering

Filtering can be implemented by passing filtered rows to the rows prop of the table. See an example of filtering in [Storybook](STORYBOOK_LINK).

### Sorting

Sorting can be implemented using the headerFormatter to pass a SortingHeader component or another custom header to the column that should be sortable. See an example of the complete implementation with table in [Storybook](STORYBOOK_LINK).

### Selectable Rows

Setting `hasSelectableRows` on the Table will add a column of checkboxes to the table so that rows can be selected by the user. Using the checkbox in the head of the table will toggle the selection of all rows.

A `keyField` should be specified to provide unique ids for rows (by default the `keyField` will be "id" and expect a property of id in the row objects).

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="SelectableRows"
/>

### Expandable Rows

Setting `hasExpandableRows` and providing `expandedContent` on a row will add a button that can be used to expand and collapse `content.expandedContent` should return a React node that should be rendered when the row is expanded.

A `keyField` should be specified to provide unique ids for rows (by default the `keyField` will be "id" and expect a property of id in the row objects).

<Example
  componentName="table"
  scope={{ Table, rows, columns }}
  example="ExpandableRows"
/>

## Props

<PropsTable propsConfig={config.props} />

## Column Options

<PropsTable propsConfig={tableColumnProps} />

## Row Options

Rows should have keys corresponding to the dataKeys provided in the columns. In addition, there are a few extra keys used by the table that can be provided to each row

<PropsTable propsConfig={tableRowProps} />

## CellRenderer / CellFormatter Argument Type

Use cellFormatter to maintain the styles within the cell while providing a custom component or string. Use cellRenderer when using completely custom styles.

<PropsTable propsConfig={cellRendererArgs} />

## HeaderFormatter Argument Type

Use headerFormatter to provide a custom header component. Styles on the header cell will be maintained.

<PropsTable propsConfig={headerFormatterArgs} />
